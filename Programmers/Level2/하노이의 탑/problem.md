# 하노이의 탑

## 문제 링크

https://school.programmers.co.kr/learn/courses/30/lessons/12946

## 문제 분류

: 재귀, 구현

## 풀이 과정

3개의 기둥을 원반이 처음 위치한 시작 기둥, 옮겨야 할 기둥인 목표 기둥, 옮기는 과정을 돕기 위해 사용되는 보조 기둥으로 가정한다. 

핵심적인 아이디어는 문제를 나누어 생각해 n - 1개의 원반을 보조 기둥으로 옮기고, 이를 다시 목표 기둥으로 옮기는 과정을 수행하는 것이다. 

보조 기둥이 어떤 기둥이 될지 알기 어려울 수 있는데, 이렇게 생각해보자. 기둥의 번호는 1, 2, 3 중 하나이다. 총 세개의 기둥이니까.

```
시작 기둥 + 보조 기둥 + 목표 기둥 = 1 + 2 + 3 =  6
```

이를 식을 옮겨서 생각해보자. 

```
보조 기둥 = 6 - to - from
```

다음과 같은 식을 구할 수 있다. 

이제 아래와 같은 과정을 통해 문제를 해결할 수 있다. 

1. 원반의 개수가 하나라면 시작 기둥에서 목표 기둥으로 옮긴다. 
2. 가장 큰 원반이 목표 기둥에 가기 위해서 나머지 원반(n - 1개의 원반)을 보조 기둥으로 옮긴다. 
3. 가장 큰 원반을 목표 기둥으로 옮긴다. 
4. 나머지 원반에 대해 위의 과정을 반복한다. 

## 풀이한 코드

```js
const solution = (n) => {
  // 이동 결과를 담을 배열
  const movements = [];
  
  // 시작 기둥(1)에서 목표 기둥(3)으로 n개의 원반을 옮긴다.
  move(1, 3, n, movements);
  
  return movements;
}

const move = (from, to, count, movements) => {
  // 만약 원반의 개수가 하나라면 시작 기둥에서 목표 기둥으로 옮겨준다.
  if (count === 1) {
      movements.push([from, to]);
      return;
  }

  // 보조 기둥을 구한다.
  const help = 6 - to - from;
  
  // n - 1개의 원반을 보조 기둥으로 롬겨준다.
  move(from, help, count - 1, movements);
  // 가장 큰 원반을 목표 기둥으로 옮긴다.
  movements.push([from, to]);
  // 보조 기둥에 있는 n - 1개의 원반을 목표 기둥으로 옮겨준다. 
  move(help, to, count - 1, movements);
}
```

n이 3이라 할 때, 호출되는 과정을 살펴보자면 다음과 같다. 

```
move(1, 3, n, movements); // n = 3
  move(1, 2, n, movements); // n = 2
    move(1, 3, n, movements); // n = 1
      1번 원반 1번 -> 3번 기둥으로 이동 // movements = [[1, 3]]
    2번 원반 1번 -> 2번 기둥으로 이동 // movements = [[1, 3], [1, 2]]
    move(3, 2, n, movements); // n = 1
      1번 원반 3번 -> 2번 기둥으로 이동 // movements = [[1, 3], [1, 2], [3, 2]]
  3번 원반 1번 -> 3번 기둥으로 이동 // movements = [[1, 3], [1, 2], [3, 2], [1, 3]]
  move(2, 3, n, movements) // n  = 2
    move(2, 1, n, movements) // n = 1
      1번 원반 2번 -> 1번 기둥으로 이동 // movements = [[1, 3], [1, 2], [3, 2], [1, 3], [2, 1]]
    2번 원반 2번 -> 3번 기둥으로 이동 // // movements = [[1, 3], [1, 2], [3, 2], [1, 3], [2, 1], [2, 3]]
    move(1, 3, n, movements) // n = 1
      1번 원반 1번 -> 3번 기둥으로 이동 // movements = [[1, 3], [1, 2], [3, 2], [1, 3], [2, 1], [2, 3], [1, 3]]
```
